<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Sprint 3 - BarBot</title>
<meta name="description" content="A display of the process taken to ideate and create a drink dispensing  robot - BarBot.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="BarBot">
<meta property="og:title" content="Sprint 3">
<meta property="og:url" content="https://olincollege.github.io/pie-2022-03/barbot/implementation/sprint3/">


  <meta property="og:description" content="A display of the process taken to ideate and create a drink dispensing  robot - BarBot.">












<link rel="canonical" href="https://olincollege.github.io/pie-2022-03/barbot/implementation/sprint3/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://olincollege.github.io/pie-2022-03/barbot/"
    
  }
</script>







<!-- end _includes/seo.html -->




<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/pie-2022-03/barbot/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/pie-2022-03/barbot/">
          BarBot
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/pie-2022-03/barbot/">Home</a>
            </li><li class="masthead__menu-item">
              <a href="/pie-2022-03/barbot/context/">Context</a>
            </li><li class="masthead__menu-item">
              <a href="/pie-2022-03/barbot/implementation/">Implementation</a>
            </li><li class="masthead__menu-item">
              <a href="/pie-2022-03/barbot/subsystems/">Subsystems</a>
            </li><li class="masthead__menu-item">
              <a href="/pie-2022-03/barbot/aboutus/">About Us</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Sprint 3">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Sprint 3
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Since the parasaltic pumps were still not fully implemented, getting the pumps working properly was pretty high on our priority. At the same time, we recognized that the breadboard implementation of the motor driver board was very space inefficient - therefore, we decided to create a solution that would reduce the amount of space taken by the motor drivers and their respective wires. We also attempted to refactor the code to reduce the need for the large hardcoded chunks that control the drink choices; however, we were unable to do so successfully within the time frame.</p>

<h2 id="mechanical">Mechanical:</h2>

<p><em>pump design and case integration</em></p>

<h2 id="electrical">Electrical:</h2>

<p>Electrical development narrowed down to two main tasks; finish implementing the power supply that feeds into the arduino, and create a less space intensive solution to the motor driver board.</p>

<h3 id="step-down-circuitry">Step-down Circuitry</h3>

<p>We originally intended to implement the step down circuitry entirely from scratch onto the power perfboard initiated in sprint 2. However, due to the unability of getting certain components, we settled on using an LM2596 variable stepdown buck converter. This overall ended up being a safer option since we could tune the voltages to fit best for our system. Thus, we arbitrarily chose to tune the converter to output 8V, which is higher than 5V (meaning that we reduce the risk of undershooting) and lower than 12V (meaning that we reduce the risk of overshooting). Then, it was a matter of connecting the 24V lines to the IN+ and IN- ports of the step-down circuitry, and the OUT+ and OUT- to the OUT terminal of the perfboard. We then connected a barrel jack that would connect the 8V to the arduino MEGA 2560. To see the schematic and the physical connections refer to the <a href="/pie-2022-03/barbot/subsystems/electrical/#power-electronics">power electronics</a> section.</p>

<h3 id="motor-driver-perfboard">Motor Driver Perfboard</h3>

<p><img src="/pie-2022-03/barbot/images/s3_ee.jpg" alt="Perfboard" /></p>

<p><em>Figure 2: Implemented circuitry of the motor driver board on perfboards.</em></p>

<p>Originally a reach goal, perfboarding the motor driver board became the next point of focus. The full schematic for the board can be found under the <a href="/pie-2022-03/barbot/subsystems/electrical/#actuation-electronics">actuation electronics</a> section. Going into sprint 3, we were hoping of allowing our system to accept up to six motors. The perboard reflects this original idea, as it allows up to six A4988 motor drivers. The perfboard implementation meant two things: less wires required, less space taken. Instead of having to deal with an entire breadboard, we were able to use a more condensed design. Also, the power pins are powered by wires directly coming from power terminals. Unfortunately, we cut the wires a little on the short side, making the power board perpendicular to the motor driver board. Regardless, the perfboard allowed us to pack the motor drivers a lot tighter.</p>

<p><img src="/pie-2022-03/barbot/images/pb_sk.jpg" alt="Protoboard Sketch" /></p>

<p><em>Figure 3: Rough sketch of the perfboardable design where each square represents a usable pin in the perfboard.</em></p>

<p>Our design allowed a motor driver to work in an 8x8 pin grid, where the 1x8 pin headers connecting to the actual motor driver would have an adjacent block of 1x8 pin headers to recieve the external connections that went to the arduino and the motors themselves. In order to keep the enable and disable functionability, we decided to solder an ena jumper wire that would connect to motor drivers 1 and 3. We could then connect drivers 1 and 2 to the signal ena1, and drivers 3 and 4 to signal ena2. This implementation of the ena connections happened <em>after</em> it was discussed that we would only be using 4 motors for the final iteration. Also note that we are still shorting the sleep and reset pins as directed by earlier tutorials. The following image compares the sizes of the perfoard and the breadboard to prove that the perfboard implementation served its purpose.</p>

<h2 id="firmware">Firmware:</h2>

<p>Unfortunately, we were unable to accomplish any firmware improvements. We entered sprint 3 having met a lot of our MVP for firmware: functionality. Acknowledging the work left on the pumps, we decided that a satisfactory effort on firmware would be to refactor the blocky code from sprints 1 and 2, and condense it to use arrays that would store the pump durations. This idea seemed very straightforward at first, but we ended up running into several syntax issues as well as logical issues. Thus, there were no real changes made to the firmware. That being said, the refactor could still occur between sprint 3 and demo day - depending on the amount of time available to work on these things.</p>

<table>
  <tbody>
    <tr>
      <td><a href="/pie-2022-03/barbot/implementation/sprint2">Sprint 2</a></td>
      <td>Â </td>
      <td><a href="/pie-2022-03/barbot/implementation/sprint1">Sprint 1</a></td>
    </tr>
  </tbody>
</table>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 BarBot. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/pie-2022-03/barbot/assets/js/main.min.js"></script>










  </body>
</html>
